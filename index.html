<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØºØ±ÙØ© ØªØ±ÙƒÙŠØ² | Focus Room</title>
    <meta name="description" content="ØºØ±ÙØ© ØªØ±ÙƒÙŠØ² - Ù…Ø³Ø§Ø­ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© Ù„Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ù…Ø¹ Ù…Ø¤Ù‚Øª Ø¨ÙˆÙ…ÙˆØ¯ÙˆØ±Ùˆ ÙˆÙ…ÙˆØ³ÙŠÙ‚Ù‰ Ù‡Ø§Ø¯Ø¦Ø© ÙˆØ±Ø³Ø§Ø¦Ù„ ØªØ´Ø¬ÙŠØ¹ÙŠØ©">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§ </text></svg>">

    <style>
        /* Ø¬Ù…ÙŠØ¹ Ø£Ù†Ù…Ø§Ø· CSS Ø§Ù„Ø£ØµÙ„ÙŠØ© ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± */
        /* ... */
    </style>
</head>
<body>
    <!-- Background Elements -->
    <div class="bg-element bg-element-1"></div>
    <div class="bg-element bg-element-2"></div>
    <div class="bg-element bg-element-3"></div>

    <!-- Particle Container -->
    <div class="particle-container" id="particles"></div>

    <!-- Notification Container -->
    <div class="notification-container" id="notifications"></div>

    <!-- Audio Player (ØªÙ…Øª Ø¥Ø¶Ø§ÙØªÙ‡) -->
    <audio id="audio-player" hidden></audio>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo animate-breathe">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="logo-text">
                        <h1>ØºØ±ÙØ© ØªØ±ÙƒÙŠØ²</h1>
                        <p>Ù…Ø³Ø§Ø­ØªÙƒ Ù„Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</p>
                    </div>
                </div>
                <button class="btn btn-follow btn-3d" onclick="followUs()">
                    <i class="fab fa-github social-icon github"></i>
                    <span>ØªØ§Ø¨Ø¹Ù†Ø§ Ù‡Ù†Ø§</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Ø¬Ù…ÙŠØ¹ Ø£Ù‚Ø³Ø§Ù… HTML Ø§Ù„Ø£ØµÙ„ÙŠØ© ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± -->
        <!-- ... -->
    </main>

    <script>
        // Global variables
        let timerState = {
            isRunning: false,
            currentTime: 25 * 60,
            totalTime: 25 * 60,
            isBreak: false,
            interval: null
        };

        let musicState = {
            isPlaying: false,
            currentTrack: 0,
            volume: 50
        };

        let stats = {
            completedSessions: 0,
            focusTime: 0,
            streak: 7,
            productivity: 85
        };

        // Music tracks data (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§)
        const musicTracks = [
            { 
                id: 1, 
                title: 'Ø£ØµÙˆØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©', 
                duration: '3:45', 
                icon: 'fas fa-leaf', 
                iconClass: 'leaf', 
                gradient: 'linear-gradient(135deg, #10b981, #3b82f6)',
                file: 'sounds/nature_sounds.mp3'
            },
            { 
                id: 2, 
                title: 'ØµÙˆØª Ø§Ù„Ù…Ø·Ø±', 
                duration: '5:20', 
                icon: 'fas fa-cloud-rain', 
                iconClass: 'rain', 
                gradient: 'linear-gradient(135deg, #8b5cf6, #ec4899)',
                file: 'sounds/rain_sound.mp3'
            },
            { 
                id: 3, 
                title: 'Ù†Ø³ÙŠÙ… Ø§Ù„ØºØ§Ø¨Ø©', 
                duration: '4:15', 
                icon: 'fas fa-wind', 
                iconClass: 'wind', 
                gradient: 'linear-gradient(135deg, #3b82f6, #06b6d4)',
                file: 'sounds/forest_breeze.mp3'
            },
            { 
                id: 4, 
                title: 'Ù…ÙˆØ¬Ø§Øª Ø§Ù„Ù…Ø­ÙŠØ·', 
                duration: '6:30', 
                icon: 'fas fa-water', 
                iconClass: 'water', 
                gradient: 'linear-gradient(135deg, #06b6d4, #3b82f6)',
                file: 'sounds/ocean_waves.mp3'
            }
        ];

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± audio
        const audioPlayer = document.getElementById('audio-player');

        // Motivational messages
        const motivationalMessages = [
            { text: "Ø§Ù„Ù†Ø¬Ø§Ø­ Ù‡Ùˆ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø¬Ù‡Ø¯ ÙˆØ§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„ÙØ´Ù„", author: "ÙƒÙˆÙ„Ù† Ø¨Ø§ÙˆÙ„" },
            { text: "Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¬Ø§Ø­ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ØªØ­Øª Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡", author: "Ù„ÙŠÙ„ÙŠ ØªÙˆÙ…Ù„ÙŠÙ†" },
            { text: "Ù„Ø§ ØªÙ†ØªØ¸Ø± Ø§Ù„ÙØ±ØµØ© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©ØŒ Ø§ØµÙ†Ø¹Ù‡Ø§", author: "Ø¬ÙˆØ±Ø¬ Ø¨Ø±Ù†Ø§Ø±Ø¯ Ø´Ùˆ" },
            { text: "Ø§Ù„ØªØ±ÙƒÙŠØ² Ù‡Ùˆ Ø¨Ø¯Ø§ÙŠØ© ÙƒÙ„ Ø¥Ù†Ø¬Ø§Ø² Ø¹Ø¸ÙŠÙ…", author: "Ø¨Ø±Ø§ÙŠÙ† ØªØ±ÙŠØ³ÙŠ" },
            { text: "Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· Ù‡Ùˆ Ø§Ù„Ø¬Ø³Ø± Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ø¥Ù†Ø¬Ø§Ø²", author: "Ø¬ÙŠÙ… Ø±ÙˆÙ†" },
            { text: "Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ÙŠØ¯ Ø£Ù† ØªØ­Ù‚Ù‚ Ø£Ø´ÙŠØ§Ø¡ Ù„Ù… ØªØ­Ù‚Ù‚Ù‡Ø§ Ù…Ù† Ù‚Ø¨Ù„ØŒ Ø¹Ù„ÙŠÙƒ Ø£Ù† ØªÙØ¹Ù„ Ø£Ø´ÙŠØ§Ø¡ Ù„Ù… ØªÙØ¹Ù„Ù‡Ø§ Ù…Ù† Ù‚Ø¨Ù„", author: "Ù†ÙŠÙ„Ø³ÙˆÙ† Ù…Ø§Ù†Ø¯ÙŠÙ„Ø§" },
            { text: "Ø§Ù„Ù†Ø¬Ø§Ø­ Ù„Ø§ ÙŠØ£ØªÙŠ Ù…Ù† Ø§Ù„Ø±Ø§Ø­Ø©ØŒ Ø¨Ù„ Ù…Ù† Ø§Ù„Ù…Ø«Ø§Ø¨Ø±Ø© ÙˆØ§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ø§Ø¯", author: "Ø¯ÙˆÙŠÙ† Ø¬ÙˆÙ†Ø³ÙˆÙ†" },
            { text: "ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø© ØªÙ‚Ø¶ÙŠÙ‡Ø§ ÙÙŠ Ø§Ù„ØªØ®Ø·ÙŠØ· ØªÙˆÙØ± Ø¹Ù„ÙŠÙƒ Ø¹Ø´Ø± Ø¯Ù‚Ø§Ø¦Ù‚ ÙÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°", author: "Ø¨Ø±Ø§ÙŠÙ† ØªØ±ÙŠØ³ÙŠ" }
        ];

        // Distracting websites data
        const distractingWebsites = [
            { id: 1, name: 'ÙÙŠØ³Ø¨ÙˆÙƒ', description: 'ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ', icon: 'fab fa-facebook', iconClass: 'facebook', color: '#1877f2' },
            { id: 2, name: 'ÙŠÙˆØªÙŠÙˆØ¨', description: 'Ù…Ù‚Ø§Ø·Ø¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', icon: 'fab fa-youtube', iconClass: 'youtube', color: '#ff0000' },
            { id: 3, name: 'ØªÙŠÙƒ ØªÙˆÙƒ', description: 'ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù‚ØµÙŠØ±Ø©', icon: 'fab fa-tiktok', iconClass: 'tiktok', color: '#000000' },
            { id: 4, name: 'ØªÙˆÙŠØªØ±', description: 'Ø´Ø¨ÙƒØ© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©', icon: 'fab fa-twitter', iconClass: 'twitter', color: '#1da1f2' },
            { id: 5, name: 'Ø¥Ù†Ø³ØªØºØ±Ø§Ù…', description: 'Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙˆØ±', icon: 'fab fa-instagram', iconClass: 'instagram', color: 'linear-gradient(135deg, #f58529, #dd2a7b)' },
            { id: 6, name: 'Ù†ØªÙÙ„ÙŠÙƒØ³', description: 'Ø£ÙÙ„Ø§Ù… ÙˆÙ…Ø³Ù„Ø³Ù„Ø§Øª', icon: 'fas fa-film', iconClass: 'netflix', color: '#e50914' }
        ];

        // Particle background animation
        function createParticles() {
            const container = document.getElementById('particles');
            
            function addParticle() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
                container.appendChild(particle);

                setTimeout(() => {
                    if (container.contains(particle)) {
                        container.removeChild(particle);
                    }
                }, 12000);
            }

            for (let i = 0; i < 50; i++) {
                setTimeout(addParticle, i * 200);
            }

            setInterval(addParticle, 800);
        }

        // Timer functions
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        function updateTimerDisplay() {
            document.getElementById('timer-display').textContent = formatTime(timerState.currentTime);
            document.getElementById('timer-label').textContent = timerState.isBreak ? 'Ø§Ø³ØªØ±Ø§Ø­Ø©' : 'Ø¬Ù„Ø³Ø© ØªØ±ÙƒÙŠØ²';
            
            const progress = 1 - (timerState.currentTime / timerState.totalTime);
            const circumference = 2 * Math.PI * 54;
            const offset = circumference * (1 - progress);
            document.getElementById('progress-circle').style.strokeDashoffset = offset;
        }

        function toggleTimer() {
            const btn = document.getElementById('start-pause-btn');
            const icon = btn.querySelector('i');
            const text = btn.querySelector('span');
            
            if (timerState.isRunning) {
                clearInterval(timerState.interval);
                timerState.isRunning = false;
                icon.className = 'fas fa-play';
                text.textContent = 'Ø§Ø¨Ø¯Ø£';
            } else {
                timerState.isRunning = true;
                icon.className = 'fas fa-pause';
                text.textContent = 'ØªÙˆÙ‚Ù';
                
                timerState.interval = setInterval(() => {
                    timerState.currentTime--;
                    updateTimerDisplay();
                    
                    if (timerState.currentTime <= 0) {
                        clearInterval(timerState.interval);
                        timerState.isRunning = false;
                        
                        if (!timerState.isBreak) {
                            stats.completedSessions++;
                            stats.focusTime += parseInt(document.getElementById('focus-time').value);
                            updateStats();
                            showNotification('Ø£Ø­Ø³Ù†Øª! Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø© ğŸ‰', 'success');
                            
                            timerState.isBreak = true;
                            timerState.currentTime = parseInt(document.getElementById('break-time').value) * 60;
                            timerState.totalTime = timerState.currentTime;
                        } else {
                            showNotification('Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø©ØŒ Ø§Ø³ØªØ¹Ø¯ Ù„Ù„ØªØ±ÙƒÙŠØ²!', 'info');
                            
                            timerState.isBreak = false;
                            timerState.currentTime = parseInt(document.getElementById('focus-time').value) * 60;
                            timerState.totalTime = timerState.currentTime;
                        }
                        
                        updateTimerDisplay();
                        icon.className = 'fas fa-play';
                        text.textContent = 'Ø§Ø¨Ø¯Ø£';
                    }
                }, 1000);
            }
        }

        function resetTimer() {
            clearInterval(timerState.interval);
            timerState.isRunning = false;
            
            const focusTime = parseInt(document.getElementById('focus-time').value) * 60;
            const breakTime = parseInt(document.getElementById('break-time').value) * 60;
            
            timerState.currentTime = timerState.isBreak ? breakTime : focusTime;
            timerState.totalTime = timerState.currentTime;
            
            updateTimerDisplay();
            
            const btn = document.getElementById('start-pause-btn');
            btn.querySelector('i').className = 'fas fa-play';
            btn.querySelector('span').textContent = 'Ø§Ø¨Ø¯Ø£';
        }

        function updateSettings() {
            if (!timerState.isRunning) {
                resetTimer();
            }
        }

        // Music functions (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§)
        function toggleMusic() {
            const btn = document.getElementById('music-play-btn');
            const icon = btn.querySelector('i');
            const visualizer = document.getElementById('visualizer');
            
            if (musicState.isPlaying) {
                audioPlayer.pause();
                icon.className = 'fas fa-play';
                musicState.isPlaying = false;
            } else {
                audioPlayer.play().catch(e => console.error('Error playing audio:', e));
                icon.className = 'fas fa-pause';
                visualizer.style.display = 'flex';
                musicState.isPlaying = true;
            }
        }

        function previousTrack() {
            musicState.currentTrack = (musicState.currentTrack - 1 + musicTracks.length) % musicTracks.length;
            updateCurrentTrack();
        }

        function nextTrack() {
            musicState.currentTrack = (musicState.currentTrack + 1) % musicTracks.length;
            updateCurrentTrack();
        }

        function updateCurrentTrack() {
            const track = musicTracks[musicState.currentTrack];
            document.getElementById('current-track').textContent = track.title;
            
            audioPlayer.src = track.file;
            audioPlayer.volume = musicState.volume / 100;
            
            if (musicState.isPlaying) {
                audioPlayer.play().catch(e => console.error('Error playing audio:', e));
            }
            
            renderPlaylist();
        }

        function updateVolume() {
            musicState.volume = document.getElementById('volume').value;
            audioPlayer.volume = musicState.volume / 100;
        }

        function renderPlaylist() {
            const container = document.getElementById('playlist-container');
            container.innerHTML = '';
            
            musicTracks.forEach((track, index) => {
                const item = document.createElement('div');
                item.className = `playlist-item ${index === musicState.currentTrack ? 'active' : ''}`;
                item.onclick = () => {
                    musicState.currentTrack = index;
                    updateCurrentTrack();
                    if (!musicState.isPlaying) {
                        toggleMusic();
                    }
                };
                
                item.innerHTML = `
                    <div class="playlist-info">
                        <div class="playlist-icon" style="background: ${track.gradient};">
                            <i class="${track.icon} social-icon ${track.iconClass}"></i>
                        </div>
                        <div>
                            <p style="font-weight: 500;">${track.title}</p>
                            <p style="font-size: 12px; color: #94a3b8;">${track.duration}</p>
                        </div>
                    </div>
                    <button style="background: none; border: none; color: #8b5cf6; cursor: pointer;">
                        <i class="fas ${index === musicState.currentTrack && musicState.isPlaying ? 'fa-pause' : 'fa-play'}"></i>
                    </button>
                `;
                
                container.appendChild(item);
            });
        }

        // Motivational messages
        function newMessage() {
            const randomMessage = motivationalMessages[Math.floor(Math.random() * motivationalMessages.length)];
            document.getElementById('message-text').textContent = randomMessage.text;
            document.getElementById('message-author').textContent = `- ${randomMessage.author}`;
            
            const card = document.getElementById('message-card');
            card.style.transform = 'scale(0.95)';
            card.style.opacity = '0.7';
            setTimeout(() => {
                card.style.transform = 'scale(1)';
                card.style.opacity = '1';
            }, 200);
        }

        // Distracting websites
        function renderWebsites() {
            const container = document.getElementById('websites-list');
            container.innerHTML = '';
            
            distractingWebsites.forEach((website, index) => {
                const item = document.createElement('div');
                item.className = 'website-item';
                item.style.animationDelay = `${index * 0.1}s`;
                
                item.innerHTML = `
                    <div class="website-info">
                        <div class="website-icon" style="background: ${website.color};">
                            <i class="${website.icon} social-icon ${website.iconClass}"></i>
                        </div>
                        <div>
                            <p style="font-weight: 500;">${website.name}</p>
                            <p style="font-size: 12px; color: #94a3b8;">${website.description}</p>
                        </div>
                    </div>
                    <div style="color: #ef4444;">
                        <i class="fas fa-ban"></i>
                    </div>
                `;
                
                container.appendChild(item);
            });
        }

        // Statistics
        function updateStats() {
            document.getElementById('completed-sessions').textContent = stats.completedSessions;
            document.getElementById('focus-minutes').textContent = stats.focusTime;
            document.getElementById('streak-days').textContent = stats.streak;
            document.getElementById('productivity').textContent = stats.productivity;
            
            localStorage.setItem('focusRoom_stats', JSON.stringify(stats));
        }

        // Session sharing functions
        function saveSettings() {
            const settings = {
                focusTime: document.getElementById('focus-time').value,
                breakTime: document.getElementById('break-time').value,
                volume: musicState.volume
            };
            
            localStorage.setItem('focusRoom_settings', JSON.stringify(settings));
            showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }

        function shareSession() {
            const settings = {
                focusTime: document.getElementById('focus-time').value,
                breakTime: document.getElementById('break-time').value,
                volume: musicState.volume
            };
            
            const settingsData = encodeURIComponent(JSON.stringify(settings));
            const url = `${window.location.origin}${window.location.pathname}?settings=${settingsData}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ØºØ±ÙØ© ØªØ±ÙƒÙŠØ² - Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙŠ',
                    text: 'Ø´Ø§Ø±Ùƒ Ù…Ø¹ÙŠ Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ±ÙƒÙŠØ²!',
                    url: url
                });
            } else {
                navigator.clipboard.writeText(url).then(() => {
                    showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!', 'success');
                });
            }
        }

        function exportData() {
            const data = {
                settings: {
                    focusTime: document.getElementById('focus-time').value,
                    breakTime: document.getElementById('break-time').value,
                    volume: musicState.volume
                },
                stats: stats,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'focus-room-data.json';
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }

        function followUs() {
            window.open('https://ibrahimmustafacv.github.io/my-social-media-page/', '_blank');
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notifications');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            notification.innerHTML = `
                <i class="${icons[type]}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (container.contains(notification)) {
                        container.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Load saved data
        function loadSavedData() {
            const savedSettings = localStorage.getItem('focusRoom_settings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                document.getElementById('focus-time').value = settings.focusTime || 25;
                document.getElementById('break-time').value = settings.breakTime || 5;
                document.getElementById('volume').value = settings.volume || 50;
                musicState.volume = settings.volume || 50;
            }
            
            const savedStats = localStorage.getItem('focusRoom_stats');
            if (savedStats) {
                stats = { ...stats, ...JSON.parse(savedStats) };
                updateStats();
            }
            
            const urlParams = new URLSearchParams(window.location.search);
            const sharedSettings = urlParams.get('settings');
            if (sharedSettings) {
                try {
                    const settings = JSON.parse(decodeURIComponent(sharedSettings));
                    document.getElementById('focus-time').value = settings.focusTime || 25;
                    document.getElementById('break-time').value = settings.breakTime || 5;
                    document.getElementById('volume').value = settings.volume || 50;
                    musicState.volume = settings.volume || 50;
                    showNotification('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©!', 'info');
                } catch (e) {
                    console.error('Error loading shared settings:', e);
                }
            }
        }

        // Initialize the application
        function init() {
            createParticles();
            updateCurrentTrack(); // ØªØ­Ù…ÙŠÙ„ Ø£ÙˆÙ„ Ù…Ø³Ø§Ø± ØµÙˆØªÙŠ
            renderPlaylist();
            renderWebsites();
            updateTimerDisplay();
            updateStats();
            loadSavedData();
            
            updateSettings();
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ù„Ø­Ø¯Ø« Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙˆØª
            audioPlayer.addEventListener('ended', nextTrack);
            audioPlayer.addEventListener('error', (e) => {
                console.error('Audio error:', e);
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØªÙŠ', 'error');
            });
            
            console.log('Focus Room initialized successfully!');
        }

        // Start the application when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
